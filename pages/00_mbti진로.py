# app.py
import streamlit as st

st.set_page_config(page_title="MBTI별 진로 추천 💡", page_icon="🧭", layout="centered")

MBTI_DATABASE = {
    "ISTJ": [
        ("공무원 / 행정직 🎯", 
         "추천 학과: 행정학, 정치외교, 경영학\n"
         "어떤 성격이 적합한가: 책임감 강하고 규칙을 잘 지키는 타입. 안정적이고 계획적으로 일하는 걸 좋아함. 꼼꼼함이 장점."),
        ("회계사 / 감사 📊",
         "추천 학과: 회계학, 경영학\n"
         "어떤 성격이 적합한가: 세부사항을 놓치지 않고 책임감 있게 처리하는 사람. 숫자와 규칙을 좋아함.")
    ],
    "ISFJ": [
        ("간호사 / 의료지원 🤍",
         "추천 학과: 간호학, 보건학\n"
         "어떤 성격이 적합한가: 타인을 돕는 데서 보람을 느끼고 세심한 성격. 안정적 환경을 선호함."),
        ("사회복지사 / 상담지원 🌱",
         "추천 학과: 사회복지학, 상담심리학\n"
         "어떤 성격이 적합한가: 공감 능력 높고 남을 돌보는 것을 즐기는 타입.")
    ],
    "INFJ": [
        ("임상심리사 / 상담가 🧠",
         "추천 학과: 심리학, 상담심리학\n"
         "어떤 성격이 적합한가: 깊은 통찰과 공감 능력을 가진 사람. 사람의 성장에 의미를 둠."),
        ("인권/NGO 활동가 🌍",
         "추천 학과: 사회학, 국제학, 인문계열\n"
         "어떤 성격이 적합한가: 가치 중심적이며 장기적인 비전으로 일하는 걸 좋아함.")
    ],
    "INTJ": [
        ("연구원 / 데이터 과학자 🔬",
         "추천 학과: 통계학, 컴퓨터공학, 수학\n"
         "어떤 성격이 적합한가: 체계적이고 전략적으로 문제를 푸는 걸 좋아하는 분석형."),
        ("전략기획 / 컨설턴트 🚀",
         "추천 학과: 산업공학, 경영학, 경제학\n"
         "어떤 성격이 적합한가: 큰 그림을 설계하고 효율 개선에 흥미를 느끼는 타입.")
    ],
    "ISTP": [
        ("기술직(기계/전기) ⚙️",
         "추천 학과: 기계공학, 전기공학, 실습 중심 학부\n"
         "어떤 성격이 적합한가: 손으로 만지고 해결하는 걸 좋아하고 즉각적 문제 해결 능력이 뛰어남."),
        ("파일럿 / 자동차정비사 ✈️",
         "추천 학과: 항공운항과, 자동차공학\n"
         "어떤 성격이 적합한가: 실용적이고 집중력이 좋으며 실제 작동 원리를 이해하는 타입.")
    ],
    "ISFP": [
        ("디자이너(패션/제품) 🎨",
         "추천 학과: 디자인학, 패션학\n"
         "어떤 성격이 적합한가: 감각적이고 창의적이며 표현을 중요하게 여기는 사람."),
        ("조리사 / 제과제빵사 🍰",
         "추천 학과: 조리학, 제과제빵학원 실무\n"
         "어떤 성격이 적합한가: 손재주 있고 순간의 감각을 발휘하는 걸 즐기는 타입.")
    ],
    "INFP": [
        ("작가 / 편집자 ✍️",
         "추천 학과: 문예창작, 국어국문학\n"
         "어떤 성격이 적합한가: 감성적이며 내면의 생각을 글로 표현하는 걸 좋아함."),
        ("예술치료사 / 창작 관련 직업 🎭",
         "추천 학과: 미술치료, 음악치료, 예술학\n"
         "어떤 성격이 적합한가: 사람과 감정을 연결하고 치유하는 데 관심이 많은 타입.")
    ],
    "INTP": [
        ("소프트웨어 개발자 / 연구자 💻",
         "추천 학과: 컴퓨터공학, 전산학, 수학\n"
         "어떤 성격이 적합한가: 이론과 논리를 즐기며 문제를 깊게 파고드는 성향."),
        ("철학자 / 분석가 🧩",
         "추천 학과: 철학, 논리학, 인공지능 관련 학문\n"
         "어떤 성격이 적합한가: 개념을 분석하고 구조화하는 걸 좋아하는 사람.")
    ],
    "ESTP": [
        ("영업 / 마케팅 현장직 🔥",
         "추천 학과: 경영학, 마케팅\n"
         "어떤 성격이 적합한가: 사람과 소통하고 즉각적인 피드백을 즐기는 활동가 유형."),
        ("응급구조사 / 소방관 🚒",
         "추천 학과: 응급구조학, 소방안전학\n"
         "어떤 성격이 적합한가: 순간 판단과 행동력이 뛰어나고 활동적인 걸 좋아함.")
    ],
    "ESFP": [
        ("연예/무대(퍼포먼스) 🎤",
         "추천 학과: 연극영화, 공연예술\n"
         "어떤 성격이 적합한가: 사람들 앞에서 에너지를 발휘하고 즉흥적 표현을 즐기는 타입."),
        ("관광/서비스업 🧳",
         "추천 학과: 관광학, 호텔경영\n"
         "어떤 성격이 적합한가: 사교적이고 손님 응대에서 활력을 느끼는 사람.")
    ],
    "ENFP": [
        ("창업가 / 콘텐츠 크리에이터 ✨",
         "추천 학과: 경영학, 미디어커뮤니케이션\n"
         "어떤 성격이 적합한가: 아이디어가 풍부하고 사람을 끌어들이는 매력이 있음."),
        ("홍보/광고 기획자 📣",
         "추천 학과: 광고홍보학, 커뮤니케이션학\n"
         "어떤 성격이 적합한가: 창의적이며 사람의 마음을 움직이는 일을 좋아함.")
    ],
    "ENTP": [
        ("스타트업 창업 / 발명가 🛠️",
         "추천 학과: 융합전공, 전자공학, 경영학\n"
         "어떤 성격이 적합한가: 도전정신이 강하고 새로운 기회를 찾아내는 걸 즐김."),
        ("변화주도 컨설턴트 🧭",
         "추천 학과: 산업공학, 경영학, 데이터분석 관련 학과\n"
         "어떤 성격이 적합한가: 논쟁을 즐기고 다른 관점을 제시하는 데 능함.")
    ],
    "ESTJ": [
        ("관리자 / 운영 책임자 🏢",
         "추천 학과: 경영학, 산업경영학\n"
         "어떤 성격이 적합한가: 조직을 관리하고 시스템을 구축하는 걸 좋아하는 실무형."),
        ("군인 / 경찰 등 안전보장 직종 🛡️",
         "추천 학과: 경찰행정, 군사학 관련 학과\n"
         "어떤 성격이 적합한가: 규율과 책임을 중시하며 리더십이 강한 타입.")
    ],
    "ESFJ": [
        ("교사 / 교육행정 👩‍🏫",
         "추천 학과: 교육학, 아동학\n"
         "어떤 성격이 적합한가: 타인을 도우며 사회적 유대감을 중요시하는 친화형."),
        ("HR / 인사담당자 🤝",
         "추천 학과: 경영학, 심리학\n"
         "어떤 성격이 적합한가: 사람 관리와 협력이 즐겁고 세심함이 강점.")
    ],
    "ENFJ": [
        ("인사/조직 개발자 / 리더십 코치 🌟",
         "추천 학과: 교육학, 경영학, 심리학\n"
         "어떤 성격이 적합한가: 사람을 이끌고 성장시키는 데 타고난 능력이 있음."),
        ("정책/공공외교 분야 🌐",
         "추천 학과: 국제학, 정치외교, 공공정책\n"
         "어떤 성격이 적합한가: 대인관계 능력이 뛰어나고 비전을 공유하는 걸 좋아함.")
    ],
    "ENTJ": [
        ("기업 CEO / 경영컨설턴트 🦾",
         "추천 학과: 경영학, 경제학\n"
         "어떤 성격이 적합한가: 목표 지향적이고 리더십으로 조직을 끌고 갈 수 있는 타입."),
        ("프로젝트 매니저 / 전략기획자 📈",
         "추천 학과: 경영정보, 산업공학\n"
         "어떤 성격이 적합한가: 체계적으로 계획하고 실행하는 능력이 탁월.")
    ],
}

def show_intro():
    st.title("MBTI로 찾는 맞춤 진로 추천 ✨")
    st.markdown(
        "친구야, 네 MBTI를 고르면 그 유형에 딱 맞는 **2가지 현실적인 진로**와\n"
        "**추천 학과, 어떤 성격이 잘 맞는지**를 쉽게 알려줄게. 😎\n\n"
        "설치할 패키리는 없고, Streamlit만으로 동작해요. 아래에서 MBTI를 선택해봐! 👇"
    )

def display_recommendations(mbti):
    st.markdown(f"### 선택한 MBTI: **{mbti}**")
    recs = MBTI_DATABASE.get(mbti)
    if not recs:
        st.write("아직 데이터가 없는 유형이야... 😅")
        return

    for idx, (job, desc) in enumerate(recs, start=1):
        with st.container():
            st.markdown(f"#### {idx}. {job}")
            # split desc into lines for nice bullets
            lines = desc.split("\n")
            for line in lines:
                st.markdown(f"- {line}")
            st.markdown("---")

def main():
    show_intro()

    mbti_list = list(MBTI_DATABASE.keys())
    mbti_choice = st.selectbox("MBTI 선택", ["선택해줘 😊"] + mbti_list)

    col1, col2 = st.columns([3,1])
    if col2.button("랜덤 추천 해줘 🎲"):
        import random
        mbti_choice = random.choice(mbti_list)
        st.experimental_rerun()

    if mbti_choice and mbti_choice != "선택해줘 😊":
        display_recommendations(mbti_choice)
        st.success("더 궁금하면 다른 유형도 골라봐! 😉")
    else:
        st.info("위에서 MBTI를 골라주면 추천을 보여줄게. 혹시 MBTI를 모르면 친구에게 물어봐도 좋아!")

    st.markdown("---")
    st.caption("이 앱은 진로 선택에 도움을 주기 위한 가이드예요. 실제 선택 시엔 체험, 상담, 적성검사를 병행하길 추천해요. 🌱")

if __name__ == "__main__":
    main()
